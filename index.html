<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css" />

    <title>KNUTune</title>

    <meta property="og:image" content="#">
    <link rel="icon" href="./logo/knut.png"/>
</head>
<body>
    
    <!-- í•˜ë‹¨ menu ë‚´ë¹„ê²Œì´ì…˜ ë°” (ìƒë‹¨ê²½ê³„/íŒ¨ë”©ìƒí•˜2/ê³ ì •/ê°€ë¡œ100%/í•˜ë‹¨/ì¢Œì¸¡/z-50)-->
    <div class="border border-t-gray-300 pt-2 pb-2 fixed w-full bottom-0 left-0 z-50 bg-white">
        
        <!-- (ê¸€ ì¤‘ì•™/í”Œë ‰ìŠ¤-ì‚¬ì´ê°„ê²©) -->
        <ul class="text-center flex justify-around">
            
            <!-- ë©”ë‰´ 1 ë²ˆ [í™ˆ]         (íŒ¨ë”©ì¢Œìš°4/íŒŒë‘900/í™ˆ)-->
            <a href="/test/">
                <li class="pl-4 pr-4">
                    <div class="grid text-blue-900">
                        <i class="fa-solid fa-house text-2xl"></i>
                        <p class="text-lg">í™ˆ</p>
                    </div>
                </li>
            </a>

            <!-- ë©”ë‰´ 2 ë²ˆ [ecampus]    (íŒ¨ë”©ì¢Œìš°4/íšŒìƒ‰400/ì´ìº í¼ìŠ¤)-->
            <a href="/test/html/ecampus.html">
                <li class="pl-4 pr-4">
                    <div class="grid text-gray-400">
                        <i class="fa-solid fa-layer-group text-2xl"></i>
                        <p class="text-lg">e-campus</p>
                    </div>
                </li>
            </a>

            <!-- ë©”ë‰´ 3 ë²ˆ [ê³µì§€]         (íŒ¨ë”©ì¢Œìš°4/íšŒìƒ‰400/ê³µì§€)-->
            <a href="test/html/notice.html">
                <li class="pl-4 pr-4">
                    <div class="grid text-gray-400">
                        <i class="fa-solid fa-check text-2xl"></i>
                        <p class="text-lg">ê³µì§€</p>
                    </div>
                </li>
            </a>

            <!-- ë©”ë‰´ 4 ë²ˆ [ì„¤ì •]         (íŒ¨ë”©ì¢Œìš°4/íšŒìƒ‰400/ì„¤ì •)-->
            <a href="test/html/settings.html">
                <li class="pl-4 pr-4">
                    <div class="grid text-gray-400">
                        <i class="fa-solid fa-gear text-2xl"></i>
                        <p class="text-lg">ì„¤ì •</p>
                    </div>
                </li>
            </a>
            
        </ul>
        
    </div>

    <!-- ìƒë‹¨ 1 : ë‚ ì”¨ API êµ¬í˜„ -->
    <div class="container mx-auto">
        <div class="bg-white shadow-lg rounded-lg p-4">
            
            <!-- ì§€ì—­ ì„ íƒ ë“œë¡­ë‹¤ìš´ -->
            <div class="mb-4">
                <select id="location" class="mt-2 block w-full p-2 border border-gray-300 rounded-lg" onchange="getWeather()">
                    <option value="Sangyongdu">ì¶©ì£¼ìº í¼ìŠ¤</option>
                    <option value="Jeungpyeong">ì¦í‰ìº í¼ìŠ¤</option>
                    <option value="Shinson">ì˜ì™•ìº í¼ìŠ¤</option>
                </select>
            </div>

            <!-- ë‚ ì”¨ ì •ë³´ê°€ í‘œì‹œë  ì˜ì—­ -->
            <div id="weather-info" class="text-center">
                <div class="flex items-center justify-between mt-4">
                    <p id="weather-condition" class="text-6xl"></p> <!-- ì´ëª¨ì§€ í‘œì‹œ -->
                    <p id="temperature" class="text-5xl font-semibold mt-3"></p> <!-- ì˜¨ë„ í‘œì‹œ -->
                </div>
                <p id="last-updated" class="text-md text-gray-500 mt-5"></p>
            </div>

        </div>
    </div>

    <!-- ìƒë‹¨ 2 : ì‹œê°„í‘œ êµ¬í˜„ -->
    <!-- ì„ì‹œ -->
    <h1 class="bg-orange-300 h-96 grid place-items-center">ì‹œê°„í‘œ</h1>

    <!-- ìƒë‹¨ 3 : ì‹ë‹¨í‘œ êµ¬í˜„ -->
    <!-- ì„ì‹œ -->
    <h1 class="bg-sky-300 h-32 grid place-items-center">ì‹ë‹¨í‘œ</h1>

    <!-- í•˜ë‹¨ ì—¬ë°± -->
    <div class="p-12"></div>

    <!-- JS CODE -->
    <script>
        function getWeather() {
            const location = document.getElementById('location').value;
            fetch(`https://api.weatherapi.com/v1/current.json?key=a545f6da26324b69b9e90140240310&q=${location}`)
                .then((response) => response.json())
                .then((data) => {
                    const temperature = data.current.temp_c;
                    const lastUpdated = data.current.last_updated;
                    const condition = data.current.condition.text; // ë‚ ì”¨ ìƒíƒœ ê°€ì ¸ì˜¤ê¸°
                    const weatherEmoji = getWeatherEmoji(condition); // ì´ëª¨í‹°ì½˜ ê°€ì ¸ì˜¤ê¸°

                    document.getElementById("temperature").innerHTML = `${temperature}Â°C`;
                    document.getElementById("weather-condition").innerHTML = weatherEmoji; // ì´ëª¨í‹°ì½˜ í‘œì‹œ
                    document.getElementById("last-updated").innerHTML = `ê´€ì¸¡ ì‹œê°„ : ${lastUpdated}`;
                })
                .catch((error) => {
                    console.error("Error fetching weather data:", error);
                    document.getElementById("weather-info").innerHTML = `<p class="text-red-500">ë‚ ì”¨ ì •ë³´ë¥¼ ê°€ì ¸ì˜¤ëŠ” ë° ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤.</p>`;
                });
        }

        function getWeatherEmoji(condition) {
            // ë‚ ì”¨ ì¡°ê±´ì— ë”°ë¥¸ ì´ëª¨í‹°ì½˜ ë§¤í•‘
            switch (condition) {
                case 'Sunny':
                    return 'â˜€ï¸'; // ë§‘ìŒ
                case 'Partly cloudy':
                    return 'ğŸŒ¤ï¸'; // ë¶€ë¶„ì ìœ¼ë¡œ íë¦¼
                case 'Cloudy':
                    return 'â˜ï¸'; // íë¦¼
                case 'Rain':
                    return 'ğŸŒ§ï¸'; // ë¹„
                case 'Snow':
                    return 'â„ï¸'; // ëˆˆ
                case 'Drizzle':
                    return 'ğŸŒ¦ï¸'; // ì´ìŠ¬ë¹„
                case 'Clear' :
                    return 'ğŸŒ™'; // ë§‘ìŒ (ë°¤)
                default:
                    return 'ğŸŒˆ'; // ê¸°íƒ€ ë‚ ì”¨ (ê¸°ë³¸ê°’)
            }
        }

        // ì´ˆê¸° ë‚ ì”¨ ì •ë³´ ë¡œë“œ
        getWeather();
    </script>
</body>
</html>